(window.webpackJsonp=window.webpackJsonp||[]).push([[286],{568:function(s,t,a){"use strict";a.r(t);var i=a(14),e=Object(i.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[t("a",{attrs:{href:"https://codefun2000.com/p/P1708",target:"_blank",rel:"noopener noreferrer"}},[s._v("在线评测链接:P1708"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"题目描述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#题目描述"}},[s._v("#")]),s._v(" 题目描述")]),s._v(" "),t("p",[s._v("在潜入下层工厂后，塔子哥在其中一个房间中发现了N(1≤N≤5000)台机器。这些机器排成一排，从左到右依次编号为1、2、...N。且每台机器都有一个能量值，编号为"),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("mi",[s._v("i")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("i")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.65952em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"0.65952em","vertical-align":"0em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord mathit"},[s._v("i")])])])]),s._v("的机器的能量值为"),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("msub",[t("mi",[s._v("a")]),t("mi",[s._v("i")])],1),t("mo",[s._v("(")]),t("mo",[s._v("−")]),t("mn",[s._v("1")]),t("msup",[t("mn",[s._v("0")]),t("mrow",[t("mn",[s._v("1")]),t("mn",[s._v("2")])],1)],1),t("mo",[s._v("≤")]),t("msub",[t("mi",[s._v("a")]),t("mi",[s._v("i")])],1),t("mo",[s._v("≤")]),t("mn",[s._v("1")]),t("msup",[t("mn",[s._v("0")]),t("mrow",[t("mn",[s._v("1")]),t("mn",[s._v("2")])],1)],1),t("mo",[s._v(")")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("a_i(-10^{12}\\le a_i\\le10^{12})")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.8141079999999999em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"1.064108em","vertical-align":"-0.25em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathit"},[s._v("a")]),t("span",{staticClass:"vlist"},[t("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),t("span",{staticClass:"reset-textstyle scriptstyle cramped"},[t("span",{staticClass:"mord mathit"},[s._v("i")])])]),t("span",{staticClass:"baseline-fix"},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord"},[s._v("−")]),t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathrm"},[s._v("0")]),t("span",{staticClass:"vlist"},[t("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),t("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[t("span",{staticClass:"mord scriptstyle uncramped"},[t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),t("span",{staticClass:"baseline-fix"},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),t("span",{staticClass:"mrel"},[s._v("≤")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathit"},[s._v("a")]),t("span",{staticClass:"vlist"},[t("span",{staticStyle:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),t("span",{staticClass:"reset-textstyle scriptstyle cramped"},[t("span",{staticClass:"mord mathit"},[s._v("i")])])]),t("span",{staticClass:"baseline-fix"},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),t("span",{staticClass:"mrel"},[s._v("≤")]),t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathrm"},[s._v("0")]),t("span",{staticClass:"vlist"},[t("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),t("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[t("span",{staticClass:"mord scriptstyle uncramped"},[t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mord mathrm"},[s._v("2")])])])]),t("span",{staticClass:"baseline-fix"},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),t("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("。现在塔子哥想要启动其中一些机器。在简单尝试后，她发现若两台启动的机器之间没有其他任何其他启动的机器，则这两台机器会尝试连接;但是若一台机器左右两边都有机器尝试与其连接，且左右两台机器能量值的平均值"),t("strong",[s._v("大于等于")]),s._v("中间这台机器的能量值，则会使得中间的机器系统崩溃。现在所有的机器都已恢复关机状态，九霄想知道的是，在不引发机器系统崩溃的情况下，最多可以同时启动多少台机器?")]),s._v(" "),t("h2",{attrs:{id:"输入描述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#输入描述"}},[s._v("#")]),s._v(" 输入描述")]),s._v(" "),t("blockquote",[t("p",[s._v("输入的第一行包括一个整数"),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("mi",[s._v("N")]),t("mo",[s._v("(")]),t("mn",[s._v("1")]),t("mo",[s._v("≤")]),t("mi",[s._v("N")]),t("mo",[s._v("≤")]),t("mn",[s._v("5")]),t("mn",[s._v("0")]),t("mn",[s._v("0")]),t("mn",[s._v("0")]),t("mo",[s._v(")")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("N(1\\le N\\le 5000)")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[s._v("N")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mrel"},[s._v("≤")]),t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10903em"}},[s._v("N")]),t("span",{staticClass:"mrel"},[s._v("≤")]),t("span",{staticClass:"mord mathrm"},[s._v("5")]),t("span",{staticClass:"mord mathrm"},[s._v("0")]),t("span",{staticClass:"mord mathrm"},[s._v("0")]),t("span",{staticClass:"mord mathrm"},[s._v("0")]),t("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("，表示机器的数量")]),s._v(" "),t("p",[s._v("第二行包括N个整数 a_1、a_2、…、a_N(-10^{12}\\le a_i\\le10^{12})，表示这 N 台机器的能量值")])]),s._v(" "),t("h2",{attrs:{id:"输出描述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#输出描述"}},[s._v("#")]),s._v(" 输出描述")]),s._v(" "),t("blockquote",[t("p",[s._v("最多可以同时启动的机器数量")])]),s._v(" "),t("h2",{attrs:{id:"样例输入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#样例输入"}},[s._v("#")]),s._v(" 样例输入")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("5\n1 2 3 2 1\n")])])]),t("h2",{attrs:{id:"样例输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#样例输出"}},[s._v("#")]),s._v(" 样例输出")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("4\n")])])]),t("p",[t("strong",[s._v("提示")])]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("在这一情景中，塔子哥可以选择启动编号为1、2、4、5 的机器\n")])])]),t("p",[t("img",{attrs:{src:"/split.png",alt:"split"}})]),s._v(" "),t("h3",{attrs:{id:"解题思路"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解题思路"}},[s._v("#")]),s._v(" 解题思路")]),s._v(" "),t("p",[s._v("题目条件相当于是要找到一个 "),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("mi",[s._v("a")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("a")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord mathit"},[s._v("a")])])])]),s._v(" 的最长子序列 "),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("msup",[t("mi",[s._v("a")]),t("mrow",[t("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("a'")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.751892em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"0.751892em","vertical-align":"0em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathit"},[s._v("a")]),t("span",{staticClass:"vlist"},[t("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),t("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[t("span",{staticClass:"mord scriptstyle uncramped"},[t("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),t("span",{staticClass:"baseline-fix"},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v("，满足在 "),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("msup",[t("mi",[s._v("a")]),t("mrow",[t("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1)],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("a'")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.751892em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"0.751892em","vertical-align":"0em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathit"},[s._v("a")]),t("span",{staticClass:"vlist"},[t("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),t("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[t("span",{staticClass:"mord scriptstyle uncramped"},[t("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),t("span",{staticClass:"baseline-fix"},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])])])])]),s._v(" 中，对于任意的三个连续的 "),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("msup",[t("mi",[s._v("a")]),t("mrow",[t("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1),t("mo",[s._v("[")]),t("mi",[s._v("i")]),t("mo",[s._v("]")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("msup",[t("mi",[s._v("a")]),t("mrow",[t("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1),t("mo",[s._v("[")]),t("mi",[s._v("i")]),t("mo",[s._v("+")]),t("mn",[s._v("1")]),t("mo",[s._v("]")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("msup",[t("mi",[s._v("a")]),t("mrow",[t("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1),t("mo",[s._v("[")]),t("mi",[s._v("i")]),t("mo",[s._v("+")]),t("mn",[s._v("2")]),t("mo",[s._v("]")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("a'[i],a'[i + 1], a'[i + 2]")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.751892em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"1.001892em","vertical-align":"-0.25em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathit"},[s._v("a")]),t("span",{staticClass:"vlist"},[t("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),t("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[t("span",{staticClass:"mord scriptstyle uncramped"},[t("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),t("span",{staticClass:"baseline-fix"},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),t("span",{staticClass:"mopen"},[s._v("[")]),t("span",{staticClass:"mord mathit"},[s._v("i")]),t("span",{staticClass:"mclose"},[s._v("]")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathit"},[s._v("a")]),t("span",{staticClass:"vlist"},[t("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),t("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[t("span",{staticClass:"mord scriptstyle uncramped"},[t("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),t("span",{staticClass:"baseline-fix"},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),t("span",{staticClass:"mopen"},[s._v("[")]),t("span",{staticClass:"mord mathit"},[s._v("i")]),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mclose"},[s._v("]")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathit"},[s._v("a")]),t("span",{staticClass:"vlist"},[t("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),t("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[t("span",{staticClass:"mord scriptstyle uncramped"},[t("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),t("span",{staticClass:"baseline-fix"},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),t("span",{staticClass:"mopen"},[s._v("[")]),t("span",{staticClass:"mord mathit"},[s._v("i")]),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mord mathrm"},[s._v("2")]),t("span",{staticClass:"mclose"},[s._v("]")])])])]),s._v("，要满足 "),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("msup",[t("mi",[s._v("a")]),t("mrow",[t("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1),t("mo",[s._v("[")]),t("mi",[s._v("i")]),t("mo",[s._v("+")]),t("mn",[s._v("1")]),t("mo",[s._v("]")]),t("mo",[s._v("∗")]),t("mn",[s._v("2")]),t("mo",[s._v(">")]),t("msup",[t("mi",[s._v("a")]),t("mrow",[t("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1),t("mo",[s._v("[")]),t("mi",[s._v("i")]),t("mo",[s._v("]")]),t("mo",[s._v("+")]),t("msup",[t("mi",[s._v("a")]),t("mrow",[t("mi",{attrs:{mathvariant:"normal"}},[s._v("′")])],1)],1),t("mo",[s._v("[")]),t("mi",[s._v("i")]),t("mo",[s._v("+")]),t("mn",[s._v("2")]),t("mo",[s._v("]")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("a'[i + 1] * 2 > a'[i] + a'[i + 2]")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.751892em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"1.001892em","vertical-align":"-0.25em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathit"},[s._v("a")]),t("span",{staticClass:"vlist"},[t("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),t("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[t("span",{staticClass:"mord scriptstyle uncramped"},[t("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),t("span",{staticClass:"baseline-fix"},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),t("span",{staticClass:"mopen"},[s._v("[")]),t("span",{staticClass:"mord mathit"},[s._v("i")]),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mclose"},[s._v("]")]),t("span",{staticClass:"mbin"},[s._v("∗")]),t("span",{staticClass:"mord mathrm"},[s._v("2")]),t("span",{staticClass:"mrel"},[s._v(">")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathit"},[s._v("a")]),t("span",{staticClass:"vlist"},[t("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),t("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[t("span",{staticClass:"mord scriptstyle uncramped"},[t("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),t("span",{staticClass:"baseline-fix"},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),t("span",{staticClass:"mopen"},[s._v("[")]),t("span",{staticClass:"mord mathit"},[s._v("i")]),t("span",{staticClass:"mclose"},[s._v("]")]),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mord"},[t("span",{staticClass:"mord mathit"},[s._v("a")]),t("span",{staticClass:"vlist"},[t("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),t("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[t("span",{staticClass:"mord scriptstyle uncramped"},[t("span",{staticClass:"mord mathrm"},[s._v("′")])])])]),t("span",{staticClass:"baseline-fix"},[t("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[t("span",{staticStyle:{"font-size":"0em"}},[s._v("​")])]),s._v("​")])])]),t("span",{staticClass:"mopen"},[s._v("[")]),t("span",{staticClass:"mord mathit"},[s._v("i")]),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mord mathrm"},[s._v("2")]),t("span",{staticClass:"mclose"},[s._v("]")])])])]),s._v(" 成立。")]),s._v(" "),t("p",[s._v("这题暴力选会 TLE，考虑用 DP 来写，相比于递推版的 DP 来说，在这题中递归版的记忆化搜索写起来会方便一点。")]),s._v(" "),t("p",[s._v("定义 "),t("code",[s._v("dfs(u, l, r)")]),s._v("表示当前考虑到第 "),t("code",[s._v("u")]),s._v(" 个机器，并且在已经选择的机器中，最后两个机器分别是 "),t("code",[s._v("l")]),s._v(" 和 "),t("code",[s._v("r")]),s._v(" （没选记为 0 ），的最大选择数量，记为 "),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("mi",[s._v("r")]),t("mi",[s._v("e")]),t("mi",[s._v("s")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("res")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),t("span",{staticClass:"mord mathit"},[s._v("e")]),t("span",{staticClass:"mord mathit"},[s._v("s")])])])]),s._v("。")]),s._v(" "),t("p",[s._v("状态转移如下：")]),s._v(" "),t("ul",[t("li",[t("p",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("mi",[s._v("r")]),t("mi",[s._v("e")]),t("mi",[s._v("s")]),t("mo",[s._v("=")]),t("mi",[s._v("d")]),t("mi",[s._v("f")]),t("mi",[s._v("s")]),t("mo",[s._v("(")]),t("mi",[s._v("u")]),t("mo",[s._v("+")]),t("mn",[s._v("1")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("l")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("r")]),t("mo",[s._v(")")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("res = dfs(u +1 , l, r)")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),t("span",{staticClass:"mord mathit"},[s._v("e")]),t("span",{staticClass:"mord mathit"},[s._v("s")]),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mord mathit"},[s._v("d")]),t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),t("span",{staticClass:"mord mathit"},[s._v("s")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathit"},[s._v("u")]),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[s._v("l")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),t("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v(" ，表示当前 "),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("mi",[s._v("u")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("u")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord mathit"},[s._v("u")])])])]),s._v(" 不选")])]),s._v(" "),t("li",[t("p",[s._v("如果 "),t("code",[s._v("l = 0")])]),s._v(" "),t("p",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("mi",[s._v("r")]),t("mi",[s._v("e")]),t("mi",[s._v("s")]),t("mo",[s._v("=")]),t("mi",[s._v("m")]),t("mi",[s._v("a")]),t("mi",[s._v("x")]),t("mo",[s._v("(")]),t("mi",[s._v("r")]),t("mi",[s._v("e")]),t("mi",[s._v("s")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("d")]),t("mi",[s._v("f")]),t("mi",[s._v("s")]),t("mo",[s._v("(")]),t("mi",[s._v("u")]),t("mo",[s._v("+")]),t("mn",[s._v("1")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("u")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("r")]),t("mo",[s._v(")")]),t("mo",[s._v("+")]),t("mn",[s._v("1")]),t("mo",[s._v(")")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("res = max(res, dfs(u + 1, u, r) + 1)")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),t("span",{staticClass:"mord mathit"},[s._v("e")]),t("span",{staticClass:"mord mathit"},[s._v("s")]),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mord mathit"},[s._v("m")]),t("span",{staticClass:"mord mathit"},[s._v("a")]),t("span",{staticClass:"mord mathit"},[s._v("x")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),t("span",{staticClass:"mord mathit"},[s._v("e")]),t("span",{staticClass:"mord mathit"},[s._v("s")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mord mathit"},[s._v("d")]),t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),t("span",{staticClass:"mord mathit"},[s._v("s")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathit"},[s._v("u")]),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mord mathit"},[s._v("u")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),t("span",{staticClass:"mclose"},[s._v(")")]),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("，表示如果当前还没有选择机器，尝试选择一台")])]),s._v(" "),t("li",[t("p",[s._v("如果 "),t("code",[s._v("r = 0")])]),s._v(" "),t("p",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("mi",[s._v("r")]),t("mi",[s._v("e")]),t("mi",[s._v("s")]),t("mo",[s._v("=")]),t("mi",[s._v("m")]),t("mi",[s._v("a")]),t("mi",[s._v("x")]),t("mo",[s._v("(")]),t("mi",[s._v("r")]),t("mi",[s._v("e")]),t("mi",[s._v("s")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("d")]),t("mi",[s._v("f")]),t("mi",[s._v("s")]),t("mo",[s._v("(")]),t("mi",[s._v("u")]),t("mo",[s._v("+")]),t("mn",[s._v("1")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("l")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("u")]),t("mo",[s._v(")")]),t("mo",[s._v("+")]),t("mn",[s._v("1")]),t("mo",[s._v(")")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("res = max(res, dfs(u + 1, l, u) + 1)")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),t("span",{staticClass:"mord mathit"},[s._v("e")]),t("span",{staticClass:"mord mathit"},[s._v("s")]),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mord mathit"},[s._v("m")]),t("span",{staticClass:"mord mathit"},[s._v("a")]),t("span",{staticClass:"mord mathit"},[s._v("x")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),t("span",{staticClass:"mord mathit"},[s._v("e")]),t("span",{staticClass:"mord mathit"},[s._v("s")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mord mathit"},[s._v("d")]),t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),t("span",{staticClass:"mord mathit"},[s._v("s")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathit"},[s._v("u")]),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.01968em"}},[s._v("l")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mord mathit"},[s._v("u")]),t("span",{staticClass:"mclose"},[s._v(")")]),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("，表示如果当前只选择了一台机器，尝试选择第二台")])]),s._v(" "),t("li",[t("p",[s._v("如果 "),t("code",[s._v("l")]),s._v(" 和 "),t("code",[s._v("r")]),s._v(" 都不为 0，且 "),t("code",[s._v("a[u]")]),s._v(" + "),t("code",[s._v("a[l]")]),s._v(" 小于 "),t("code",[s._v("a[r] * 2")])]),s._v(" "),t("p",[t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("mi",[s._v("r")]),t("mi",[s._v("e")]),t("mi",[s._v("s")]),t("mo",[s._v("=")]),t("mi",[s._v("m")]),t("mi",[s._v("a")]),t("mi",[s._v("x")]),t("mo",[s._v("(")]),t("mi",[s._v("r")]),t("mi",[s._v("e")]),t("mi",[s._v("s")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("d")]),t("mi",[s._v("f")]),t("mi",[s._v("s")]),t("mo",[s._v("(")]),t("mi",[s._v("u")]),t("mo",[s._v("+")]),t("mn",[s._v("1")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("r")]),t("mo",{attrs:{separator:"true"}},[s._v(",")]),t("mi",[s._v("u")]),t("mo",[s._v(")")]),t("mo",[s._v("+")]),t("mn",[s._v("1")]),t("mo",[s._v(")")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("res = max(res, dfs(u + 1, r, u) + 1)")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),t("span",{staticClass:"mord mathit"},[s._v("e")]),t("span",{staticClass:"mord mathit"},[s._v("s")]),t("span",{staticClass:"mrel"},[s._v("=")]),t("span",{staticClass:"mord mathit"},[s._v("m")]),t("span",{staticClass:"mord mathit"},[s._v("a")]),t("span",{staticClass:"mord mathit"},[s._v("x")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),t("span",{staticClass:"mord mathit"},[s._v("e")]),t("span",{staticClass:"mord mathit"},[s._v("s")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mord mathit"},[s._v("d")]),t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),t("span",{staticClass:"mord mathit"},[s._v("s")]),t("span",{staticClass:"mopen"},[s._v("(")]),t("span",{staticClass:"mord mathit"},[s._v("u")]),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),t("span",{staticClass:"mpunct"},[s._v(",")]),t("span",{staticClass:"mord mathit"},[s._v("u")]),t("span",{staticClass:"mclose"},[s._v(")")]),t("span",{staticClass:"mbin"},[s._v("+")]),t("span",{staticClass:"mord mathrm"},[s._v("1")]),t("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("，表示当前 "),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("mi",[s._v("u")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("u")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord mathit"},[s._v("u")])])])]),s._v(" 选入不会造成系统崩溃，则尝试启动机器 "),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("mi",[s._v("u")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("u")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord mathit"},[s._v("u")])])])]),s._v("，并更新右边第二个机器为 "),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("mi",[s._v("r")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("r")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")])])])]),s._v("，最右侧机器为 "),t("span",{staticClass:"katex"},[t("span",{staticClass:"katex-mathml"},[t("math",[t("semantics",[t("mrow",[t("mi",[s._v("u")])],1),t("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("u")])],1)],1)],1),t("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[t("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),t("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),t("span",{staticClass:"base textstyle uncramped"},[t("span",{staticClass:"mord mathit"},[s._v("u")])])])])])])]),s._v(" "),t("h2",{attrs:{id:"代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码"}},[s._v("#")]),s._v(" 代码")]),s._v(" "),t("p",[s._v("ac代码(C++/Python/Java)请进入OJ(本文章顶部的超链接)查看")])])}),[],!1,null,null,null);t.default=e.exports}}]);