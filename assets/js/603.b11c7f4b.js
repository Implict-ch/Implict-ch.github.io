(window.webpackJsonp=window.webpackJsonp||[]).push([[603],{885:function(t,s,a){"use strict";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("a",{attrs:{href:"https://codefun2000.com/p/P1185",target:"_blank",rel:"noopener noreferrer"}},[t._v("在线评测链接:P1185"),s("OutboundLink")],1)]),t._v(" "),s("h1",{attrs:{id:"题目内容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#题目内容"}},[t._v("#")]),t._v(" 题目内容")]),t._v(" "),s("p",[t._v("曾经有一个小镇叫做“数字王国”，这个小镇以数字相关的工艺和技术而闻名于世。其中最出名的数字工匠就是塔子哥。他被认为是数字领域中最聪明的人之一。他的天赋是发现数字之间的规律，并创造一些有趣的数字游戏。")]),t._v(" "),s("p",[t._v("其中一天，塔子哥想出了一个游戏：删除数字。这个游戏的规则是：给定一个正整数，你需要删除其中连续的一段数字，使得它变成15的倍数。他想知道有多少种不同的删除方式可以达到这个目标。")]),t._v(" "),s("p",[t._v("现在，他把这个问题交给了你。")]),t._v(" "),s("p",[t._v("注：删除的位置不同，即可记为两种不同的方式，并且允许删除后的数存在前导零。同时,"),s("strong",[t._v("不能全删也不能不删")])]),t._v(" "),s("h1",{attrs:{id:"输入描述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#输入描述"}},[t._v("#")]),t._v(" 输入描述")]),t._v(" "),s("p",[t._v("输入一个正整数 "),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mi",[t._v("n")])],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("n")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.43056em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.43056em","vertical-align":"0em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathit"},[t._v("n")])])])]),t._v(" 。\n"),s("span",{staticClass:"katex"},[s("span",{staticClass:"katex-mathml"},[s("math",[s("semantics",[s("mrow",[s("mn",[t._v("1")]),s("mo",[t._v("≤")]),s("mi",[t._v("n")]),s("mo",[t._v("≤")]),s("mn",[t._v("1")]),s("msup",[s("mn",[t._v("0")]),s("mrow",[s("mn",[t._v("1")]),s("mn",[t._v("0")]),s("mn",[t._v("0")]),s("mn",[t._v("0")]),s("mn",[t._v("0")]),s("mn",[t._v("0")])],1)],1)],1),s("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("1\\le n \\le 10^{100000}")])],1)],1)],1),s("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[s("span",{staticClass:"strut",staticStyle:{height:"0.8141079999999999em"}}),s("span",{staticClass:"strut bottom",staticStyle:{height:"0.950078em","vertical-align":"-0.13597em"}}),s("span",{staticClass:"base textstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")]),s("span",{staticClass:"mrel"},[t._v("≤")]),s("span",{staticClass:"mord mathit"},[t._v("n")]),s("span",{staticClass:"mrel"},[t._v("≤")]),s("span",{staticClass:"mord mathrm"},[t._v("1")]),s("span",{staticClass:"mord"},[s("span",{staticClass:"mord mathrm"},[t._v("0")]),s("span",{staticClass:"vlist"},[s("span",{staticStyle:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),s("span",{staticClass:"reset-textstyle scriptstyle uncramped"},[s("span",{staticClass:"mord scriptstyle uncramped"},[s("span",{staticClass:"mord mathrm"},[t._v("1")]),s("span",{staticClass:"mord mathrm"},[t._v("0")]),s("span",{staticClass:"mord mathrm"},[t._v("0")]),s("span",{staticClass:"mord mathrm"},[t._v("0")]),s("span",{staticClass:"mord mathrm"},[t._v("0")]),s("span",{staticClass:"mord mathrm"},[t._v("0")])])])]),s("span",{staticClass:"baseline-fix"},[s("span",{staticClass:"fontsize-ensurer reset-size5 size5"},[s("span",{staticStyle:{"font-size":"0em"}},[t._v("​")])]),t._v("​")])])])])])])]),t._v(" "),s("h1",{attrs:{id:"输出描述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#输出描述"}},[t._v("#")]),t._v(" 输出描述")]),t._v(" "),s("p",[t._v("一个正整数，代表删除的方案数。")]),t._v(" "),s("h1",{attrs:{id:"样例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#样例"}},[t._v("#")]),t._v(" 样例")]),t._v(" "),s("p",[s("strong",[t._v("输入")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("12313565\n")])])]),s("p",[s("strong",[t._v("输出")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("9\n")])])]),s("p",[s("img",{attrs:{src:"/split.png",alt:"split"}})]),t._v(" "),s("h2",{attrs:{id:"题目思路"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#题目思路"}},[t._v("#")]),t._v(" 题目思路")]),t._v(" "),s("p",[t._v("15的倍数 等价于：这个数既是3的倍数，又是5的倍数. 3的倍数要求数位和是3的倍数,5的倍数要求最后一位是5或者0")]),t._v(" "),s("p",[t._v("所以答案分为两部分，一部分是删最后一段，改变了最后一位，使得剩余部分满足两个条件，另一部分是在最后一位满足条件的前提下删中间的一段")]),t._v(" "),s("h2",{attrs:{id:"代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码"}},[t._v("#")]),t._v(" 代码")]),t._v(" "),s("div",{staticClass:"language-c++ extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("#include <bits/stdc++.h>\nusing namespace std;\n\nstring s;\nlong long ans;\nvoid solve() {\n    int n = s.size();\n    int all = 0;\t\t\t//all是所有数的数位和模3的结果，只有删除的部分也是这个值，就满足剩余的数是3的倍数\n    for(char t: s) {\n        all += t-'0';\n        all %= 3;\n    }\n    int t = 0;\n    for(int i = n-1; i > 0 ; i --) {\t\t//第一部分，枚举，看剩余的部分是否满足条件\n        t += s[i]-'0';\n        t %= 3;\n        if((s[i-1] - '0') % 5 == 0 && t == all) {\n            ans++;\n        }\n    }\n    if((s[n-1] - '0') % 5 != 0) return;\t\t//不满足第二部分的前提，直接返回\n    int dp[3] = {};\t\t\t//此时最后一位一定满足条件，只需要考虑数位和为3的倍数即可，用动态规划解决\n    for(int i = 0 ; i+1 < n ; i ++) {\n        int t[3] = {};\n        int now = (s[i] - '0') % 3;\n        t[now] ++;\n        for(int j = 0 ; j < 3 ; j ++) {\n            t[(j+now)%3] += dp[j];\n        }\n        for(int j = 0 ; j < 3 ; j ++) {\n            dp[j] = t[j];\n        }\n        ans += dp[all];\n    }\n}\nint main()\n{\n    cin >> s;\n    solve();\n    cout << ans << endl;\n}\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);